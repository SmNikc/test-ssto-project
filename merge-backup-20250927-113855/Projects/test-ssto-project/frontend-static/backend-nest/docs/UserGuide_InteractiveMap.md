# Руководство пользователя модуля «Тест ССТО»: Использование интерактивной карты

## Введение
Интерактивная карта в модуле «Тест ССТО» позволяет оперативным дежурным ГМСКЦ визуализировать сигналы на географической карте с помощью OpenLayers. Карта отображает местоположение судов, их статус и типы сигналов, а также поддерживает фильтрацию и масштабирование. Этот раздел описывает, как использовать карту для мониторинга.

## Доступ к карте
1. **Войдите в систему**:
   - Авторизуйтесь через Keycloak с ролью «Оперативный дежурный» (см. [Авторизация](#авторизация)).
   - После входа перейдите на страницу дашборда.

2. **Откройте карту**:
   - На дашборде нажмите на вкладку **"Карта"** (вверху страницы).
   - Карта загрузится и отобразит сигналы в виде маркеров.

**Скриншот**: Вкладка «Карта» находится рядом с вкладкой «Дашборд». Карта занимает большую часть экрана, с панелью фильтров слева и элементами управления (масштаб, слои) в правом верхнем углу.

## Работа с картой
1. **Просмотр сигналов**:
   - Сигналы отображаются в виде маркеров:
     - **Тестовый сигнал**: Зеленый маркер.
     - **Тревожный сигнал**: Красный маркер.
     - **Внеплановый сигнал**: Желтый маркер.
   - Наведите курсор на маркер, чтобы увидеть краткую информацию: MMSI, тип сигнала, время получения.

2. **Масштабирование и навигация**:
   - Используйте кнопки **"+"** и **"-"** в правом верхнем углу для увеличения/уменьшения масштаба.
   - Перетаскивайте карту мышью для перемещения.
   - Дважды щелкните на карте для увеличения масштаба в выбранной точке.

3. **Фильтрация сигналов**:
   - На панели фильтров слева выберите параметры:
     - **MMSI**: Введите код (например, `123456789`).
     - **Тип сигнала**: Выберите «Все», «Тестовый», «Тревожный», «Внеплановый».
     - **Период**: Укажите диапазон дат (например, с `2025-05-28` по `2025-05-29`).
   - Нажмите **"Применить"**.
   - Карта обновится, показывая только отфильтрованные сигналы.

**Скриншот**: Карта отображает маркеры с цветовой индикацией. Панель фильтров слева включает поля «MMSI», «Тип сигнала», «Период» и кнопку «Применить». Всплывающая подсказка над маркером показывает: «MMSI: 123456789, Тип: Тревожный, Время: 2025-05-29 19:04».

## Детали сигнала
1. **Щелкните на маркер**:
   - Нажмите на маркер, чтобы открыть окно с подробностями:
     - MMSI, тип сигнала, время получения, координаты, статус, комментарии.
   - Для тревожных сигналов отображается поле «Срочность».

2. **Действия**:
   - В окне деталей доступны кнопки:
     - **"Изменить"**: Смена типа сигнала.
     - **"Привязать"**: Привязка к заявке.
     - **"Обновить статус"**: Изменение статуса (например, «Завершен»).
   - После выполнения действия нажмите **"Сохранить"**.

**Скриншот**: Окно деталей сигнала включает поля «MMSI: 123456789», «Тип: Тревожный», «Время: 2025-05-29 19:04», «Координаты: 55.1234, 37.5678», и кнопки действий внизу.

## Устранение неполадок
- **Маркер не отображается**:
  - Проверьте фильтры: возможно, сигнал отфильтрован.
  - Убедитесь, что сигнал содержит координаты (без координат маркер не отображается).
  - Нажмите «Обновить» на дашборде, чтобы загрузить новые сигналы.

- **Карта не загружается**:
  - Проверьте интернет-соединение.
  - Убедитесь, что OpenLayers API доступен (сервер карт должен быть онлайн).
  - Попробуйте обновить страницу или использовать другой браузер.

- **Координаты неверные**:
  - Проверьте источник сигнала (email или ручной ввод).
  - Исправьте координаты вручную через действие «Изменить».

**Совет**: Используйте масштабирование, чтобы сосредоточиться на определенном регионе, особенно при большом количестве сигналов.
