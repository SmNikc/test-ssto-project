# Руководство пользователя модуля «Тест ССТО»: Авторизация

## Введение
Для доступа к функциям модуля «Тест ССТО» необходимо авторизоваться через систему единого входа (SSO) с использованием Keycloak. Этот раздел описывает процесс входа в систему, восстановления пароля и выхода из учетной записи.

## Получение учетных данных
1. **Обратитесь к администратору ГМСКЦ**:
   - Учетные данные (логин и пароль) предоставляются администратором системы.
   - Логин: Обычно это ваш email (например, `user@gmskcc.ru`).
   - Пароль: Временный пароль, который необходимо сменить при первом входе.

2. **Роли пользователей**:
   - **Судовладелец**: Доступ к подаче заявок и отчетам.
   - **Оперативный дежурный**: Доступ к дашборду, обработке сигналов, карте.
   - **Администратор**: Полный доступ, включая настройки системы.
   - **Тестировщик**: Доступ к формам сценариев тестирования.

## Вход в систему
1. **Откройте браузер**:
   - Используйте Google Chrome, Firefox или Edge (последние версии).
   - Убедитесь, что у вас есть стабильное интернет-соединение.

2. **Перейдите по адресу**:
   - Введите в адресной строке: `https://test-ssto.local` (или локальный адрес, предоставленный администратором).
   - Нажмите Enter. Вы будете перенаправлены на страницу входа Keycloak.

3. **Введите учетные данные**:
   - На странице входа вы увидите форму с полями:
     - **Логин**: Введите ваш email (например, `user@gmskcc.ru`).
     - **Пароль**: Введите ваш временный пароль.
   - Нажмите кнопку **"Войти"**.

   **Скриншот**: Страница входа содержит логотип Keycloak, поля для ввода логина и пароля, кнопку «Войти» синего цвета и ссылку «Забыли пароль?».

4. **Смена временного пароля** (при первом входе):
   - После ввода временного пароля Keycloak предложит вам сменить пароль.
   - Введите:
     - **Новый пароль**: Минимум 8 символов, включая буквы, цифры и специальные символы (например, `P@ssw0rd`).
     - **Подтверждение пароля**: Повторите новый пароль.
   - Нажмите **"Сохранить"**.
   - После этого вы будете перенаправлены на главную страницу модуля «Тест ССТО».

5. **Главная страница**:
   - После успешного входа вы увидите интерфейс, соответствующий вашей роли:
     - Судовладелец: Форма подачи заявок.
     - Дежурный: Дашборд с сигналами.
     - Администратор: Панель управления.
     - Тестировщик: Формы сценариев.

   **Скриншот**: Главная страница для судовладельца включает заголовок «Заявка на тестирование ССТО», форму с полями (MMSI, название судна и т.д.) и кнопки «Отправить заявку» и «Очистить».

## Восстановление пароля
1. **Перейдите на страницу входа**:
   - Откройте `https://test-ssto.local`.

2. **Нажмите на ссылку «Забыли пароль?»**:
   - Под формой входа вы увидите ссылку «Забыли пароль?». Нажмите на неё.

3. **Введите email**:
   - Введите ваш email (например, `user@gmskcc.ru`).
   - Нажмите **"Отправить"**.

4. **Проверьте почту**:
   - Вы получите письмо от Keycloak с темой «Сброс пароля».
   - Откройте письмо и перейдите по ссылке для сброса пароля.

5. **Сброс пароля**:
   - Введите новый пароль (например, `NewP@ssw0rd`).
   - Подтвердите новый пароль.
   - Нажмите **"Сохранить"**.

6. **Войдите с новым паролем**:
   - Вернитесь на страницу входа и используйте новый пароль для входа.

**Совет**: Если письмо не пришло в течение 5 минут, проверьте папку «Спам» или обратитесь к администратору.

## Выход из системы
1. **Найдите кнопку выхода**:
   - В правом верхнем углу интерфейса вы увидите иконку вашего профиля (или ваше имя).
   - Нажмите на неё.

2. **Выберите «Выход»**:
   - В выпадающем меню выберите **"Выход"**.
   - Вы будете перенаправлены на страницу входа Keycloak.

**Скриншот**: Иконка профиля — это круглая аватарка с инициалами или фото пользователя, рядом с которой находится стрелка вниз. Меню содержит пункт «Выход» внизу.

## Устранение неполадок
- **Ошибка «Неверный логин или пароль»**:
  - Убедитесь, что вы правильно ввели email и пароль.
  - Проверьте раскладку клавиатуры (например, не включен ли Caps Lock).
  - Если ошибка повторяется, обратитесь к администратору для проверки учетной записи.

- **Страница входа не загружается**:
  - Проверьте интернет-соединение.
  - Очистите кеш браузера (Настройки → Конфиденциальность → Очистить данные).
  - Попробуйте другой браузер.

- **Пароль не соответствует требованиям**:
  - Убедитесь, что новый пароль содержит минимум 8 символов, буквы, цифры и специальные символы.
  - Пример: `Secure@123`.

**Совет**: Храните пароль в безопасном месте, например, в менеджере паролей (LastPass, 1Password).
