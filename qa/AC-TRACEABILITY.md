# Матрица соответствия AC → тесты

| ID | Норматив / бизнес-требование | Acceptance Criteria | Автотесты |
|----|------------------------------|---------------------|-----------|
| **S1** | ПП РФ № 746, §13 — постоянная готовность инфраструктуры ГМСКЦ | `/health` возвращает 200 и статус `ok` даже при отсутствии фронта | `tests/smoke.sh` (health), GitHub Actions smoke stage |
| **S2** | Приказ Минтранса № 115, п. 2.5 — регистрация заявок с корректным MMSI/контактами | Заявка создаётся при валидных данных, валидация срабатывает при нарушениях | `backend-nest/test/unit/request.dto.spec.ts`, `backend-nest/test/unit/request.service.spec.ts`, `tests/smoke.sh` |
| **S3** | Письмо Минтранса 29.05.2024 — 12‑месячный цикл + обязательное подтверждение PDF | Генерация PDF с шапкой Минтранс/Росморречфлот по тестовому сигналу | `backend-nest/test/unit/report.service.spec.ts`, `backend-nest/test/integration/request-signal.integration.spec.ts`, `tests/smoke.sh` |
| **S4** | Приказ № 115, п. 4.4 — обработка тестового сигнала с привязкой к заявке | Тестовый сигнал маппится к одобренной заявке и даёт возможность сформировать отчёт | `backend-nest/test/integration/request-signal.integration.spec.ts`, `tests/smoke.sh` |
| **S5** | Внутренний SLA — отказоустойчивость почтового уведомления на `od_smrcc@morflot.ru` | После генерации подтверждения письмо фиксируется в MailHog с нужным адресом | `tests/smoke.sh` + `tests/assert-mailhog.js` |
| **S6** | Режимы доступа операторов (ПП РФ № 746, п. 20) | Экран логина отображает служебные реквизиты и принимает тестовую учётную запись | `tests/e2e/login.spec.ts` |

**Примечание.** Отдельные AC (напоминания T-30/T-0, SOS/PIRACY) зафиксированы в стратегии и подлежат реализации в последующих итерациях. Текущая матрица покрывает обязательные проверки S1–S6, блокирующие релиз.

